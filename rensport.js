(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
var Loadable = (function () {
    function Loadable() {
        this._isLoaded = false;
        this._loadFailed = false;
        this._waitingForLoadSuccess = [];
        this._waitingForLoadFail = [];
        this.doLoad();
    }
    Object.defineProperty(Loadable.prototype, "isLoaded", {
        get: function () {
            return this._isLoaded;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Loadable.prototype, "hasLoadFailed", {
        get: function () {
            return this._loadFailed;
        },
        enumerable: true,
        configurable: true
    });
    Loadable.prototype.afterLoad = function (loadSuccessCallback, loadFailCallback) {
        if (this.isLoaded) {
            loadSuccessCallback();
        }
        else if (this.hasLoadFailed) {
            if (loadFailCallback) {
                loadFailCallback();
            }
        }
        else {
            this._waitingForLoadSuccess.push(loadSuccessCallback);
            if (loadFailCallback) {
                this._waitingForLoadFail.push(loadFailCallback);
            }
        }
    };
    Loadable.prototype.loadSuccess = function () {
        this._isLoaded = true;
        for (var _i = 0, _a = this._waitingForLoadSuccess; _i < _a.length; _i++) {
            var callback = _a[_i];
            callback();
        }
    };
    Loadable.prototype.loadFailed = function (error) {
        this._loadFailed = true;
        for (var _i = 0, _a = this._waitingForLoadFail; _i < _a.length; _i++) {
            var callback = _a[_i];
            callback();
        }
        throw new Error('Loading failed : ' + error);
    };
    return Loadable;
}());
exports.Loadable = Loadable;
},{}],2:[function(require,module,exports){
"use strict";
var FBOpeningInfo_1 = require("./facebookplugins/FBOpeningInfo");
var FacebookSDK_1 = require("./facebookplugins/FacebookSDK");
var OpeningInfoView_1 = require("./view/OpeningInfoView");
var Ren = (function () {
    function Ren() {
        var _this = this;
        this._facebookSDK = new FacebookSDK_1.FacebookSDK();
        this._facebookSDK.afterLoad(function () {
            _this._openingInfo = new FBOpeningInfo_1.FBOpeningInfo();
            _this._openingInfo.afterLoad(function () {
                var view = OpeningInfoView_1.openingInfoView(_this._openingInfo);
                document.querySelector('#ren-openingsuren').appendChild(view);
            });
        });
    }
    Object.defineProperty(Ren.prototype, "facebookFeed", {
        get: function () {
            return {};
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ren.prototype, "openingInfo", {
        get: function () {
            return this._openingInfo;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ren.prototype, "facebookSDK", {
        get: function () {
            return this.facebookSDK;
        },
        enumerable: true,
        configurable: true
    });
    ;
    return Ren;
}());
exports.Ren = Ren;
},{"./facebookplugins/FBOpeningInfo":4,"./facebookplugins/FacebookSDK":5,"./view/OpeningInfoView":6}],3:[function(require,module,exports){
"use strict";
var Ren_1 = require("./Ren");
window.RenSport = new Ren_1.Ren();
},{"./Ren":2}],4:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var FacebookSDK_1 = require("./FacebookSDK");
var Loadable_1 = require("../Loadable");
var FBOpeningInfo = (function (_super) {
    __extends(FBOpeningInfo, _super);
    function FBOpeningInfo() {
        _super.call(this);
        this.monday = [];
        this.tuesday = [];
        this.wednesday = [];
        this.thursday = [];
        this.friday = [];
        this.saturday = [];
        this.sunday = [];
    }
    Object.defineProperty(FBOpeningInfo.prototype, "isCurrentlyOpen", {
        get: function () {
            var now = new Date(), day = jsValueToDay(now.getDay()), infoForDay = this[day];
            for (var i = 0; i < infoForDay.length; i += 2) {
                if (liesNowInInterval(infoForDay[i], infoForDay[i + 1])) {
                    return true;
                }
            }
            return false;
        },
        enumerable: true,
        configurable: true
    });
    // Called by super();
    FBOpeningInfo.prototype.doLoad = function () {
        var _this = this;
        FacebookSDK_1.FacebookSDK.page(['hours'], function (roughdata) {
            if (!roughdata.error) {
                _this.parseData(roughdata);
                _this.loadSuccess();
            }
            else {
                _this.loadFailed(roughdata.error);
            }
        });
    };
    FBOpeningInfo.prototype.parseData = function (roughdata) {
        this.monday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('mon') > -1;
        }).sort(compareOpeningInfo), roughdata);
        this.tuesday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('tue') > -1;
        }).sort(compareOpeningInfo), roughdata);
        this.wednesday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('wed') > -1;
        }).sort(compareOpeningInfo), roughdata);
        this.thursday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('thu') > -1;
        }).sort(compareOpeningInfo), roughdata);
        this.friday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('fri') > -1;
        }).sort(compareOpeningInfo), roughdata);
        this.saturday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('sat') > -1;
        }).sort(compareOpeningInfo), roughdata);
        this.sunday = toTimings(Object.keys(roughdata.hours).filter(function (openingTime) {
            return openingTime.indexOf('sun') > -1;
        }).sort(compareOpeningInfo), roughdata);
    };
    return FBOpeningInfo;
}(Loadable_1.Loadable));
exports.FBOpeningInfo = FBOpeningInfo;
function dayToValue(day) {
    if (day === 'mon') {
        return 0;
    }
    else if (day === 'tue') {
        return 1;
    }
    else if (day === 'wed') {
        return 2;
    }
    else if (day === 'thu') {
        return 3;
    }
    else if (day === 'fri') {
        return 4;
    }
    else if (day === 'sat') {
        return 5;
    }
    else if (day === 'sun') {
        return 6;
    }
}
function jsValueToDay(value) {
    if (value === 0) {
        return 'sunday';
    }
    else if (value === 1) {
        return 'monday';
    }
    else if (value === 2) {
        return 'tuesday';
    }
    else if (value === 3) {
        return 'wednesday';
    }
    else if (value === 4) {
        return 'thursday';
    }
    else if (value === 5) {
        return 'friday';
    }
    else if (value === 6) {
        return 'saturday';
    }
}
function jsDayValue(day) {
    return ((dayToValue(day) + 1) % 7);
}
function compareOpeningInfo(a, b) {
    var infoA = a.split('_'), infoB = b.split('_');
    if (parseInt(infoA[1]) < parseInt(infoB[1])) {
        return -1;
    }
    else if (parseInt(infoA[1]) > parseInt(infoB[1])) {
        return 1;
    }
    else {
        if (infoA[2] === 'open') {
            return -1;
        }
        else
            return 1;
    }
}
function toTimings(openingTime, roughData) {
    var timings = [];
    for (var _i = 0, openingTime_1 = openingTime; _i < openingTime_1.length; _i++) {
        var opening = openingTime_1[_i];
        timings.push(roughData.hours[opening]);
    }
    return timings;
}
function liesNowInInterval(start, end) {
    var now = new Date(), startHoursMinutes = start.split(':'), startDate = new Date(), startHour = parseInt(startHoursMinutes[0]), startMinutes = parseInt(startHoursMinutes[1]), endHoursMinutes = end.split(':'), endDate = new Date(), endHour = parseInt(endHoursMinutes[0]), endMinutes = parseInt(endHoursMinutes[1]);
    startDate.setHours(startHour);
    startDate.setMinutes(startMinutes);
    endDate.setHours(endHour);
    endDate.setMinutes(endMinutes);
    return now >= startDate && now < endDate;
}
},{"../Loadable":1,"./FacebookSDK":5}],5:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var Loadable_1 = require("../Loadable");
var FB_GRAPH_URI = 'https://graph.facebook.com/';
var PAGE_ID = '215470341909937';
var I_LIKE_GIN_TONIC = ['ZGJjNzEyZTkwZTE4MDg1Yjg2YWVhYjZjYmEyMDY5ZjY=', 'fA==', 'NTk4NzA1MjczNjM3MTIz', 'JmFjY2Vzc190b2tlbj0='];
var FacebookSDK = (function (_super) {
    __extends(FacebookSDK, _super);
    function FacebookSDK() {
        _super.call(this);
    }
    // Called by super();
    FacebookSDK.prototype.doLoad = function () {
        var _this = this;
        window.fbAsyncInit = function () {
            window.FB.init({
                appId: '598705273637123',
                xfbml: true,
                version: 'v2.6'
            });
            _this.loadSuccess();
        };
    };
    Object.defineProperty(FacebookSDK, "sdk", {
        get: function () {
            return window.FB;
        },
        enumerable: true,
        configurable: true
    });
    FacebookSDK.page = function (fields, callback) {
        var uri = FB_GRAPH_URI + PAGE_ID + '?fields=' + fields.join(',') + candy();
        FacebookSDK.sdk.api(uri, callback);
    };
    FacebookSDK.api = function (graphid, fields) {
        var uri = FB_GRAPH_URI + graphid + '?fields=' + fields.join(',') + candy();
    };
    return FacebookSDK;
}(Loadable_1.Loadable));
exports.FacebookSDK = FacebookSDK;
function candy() {
    return I_LIKE_GIN_TONIC.reverse().map(function (e) { return atob(e); }).join('');
}
},{"../Loadable":1}],6:[function(require,module,exports){
"use strict";
var days = [
    'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'
];
var daysTranslation = {
    'monday': 'Maandag',
    'tuesday': 'Dinsdag',
    'wednesday': 'Woensdag',
    'thursday': 'Donderdag',
    'friday': 'Vrijdag',
    'saturday': 'Zaterdag',
    'sunday': 'Zondag'
};
function openingInfoView(openingInfo) {
    var root = document.createElement('div');
    for (var _i = 0, days_1 = days; _i < days_1.length; _i++) {
        var day = days_1[_i];
        var dayview = dayView(day, openingInfo[day]);
        root.appendChild(dayview);
    }
    root.appendChild(currentlyOpenView(openingInfo.isCurrentlyOpen));
    return root;
}
exports.openingInfoView = openingInfoView;
function dayView(day, hours) {
    var dayview = document.createElement('div'), hourview = hourView(hours);
    dayview.innerHTML = daysTranslation[day] + ' : ' + hourview;
    return dayview;
}
function hourView(hours) {
    var hourview = '';
    for (var i = 0; i < hours.length; i += 2) {
        hourview += hours[i] + ' - ' + hours[i + 1];
        if (i + 1 != hours.length - 1) {
            hourview += ', ';
        }
    }
    return hourview || 'Gesloten';
}
function currentlyOpenView(currentlyOpen) {
    var view = document.createElement('p');
    if (currentlyOpen) {
        view.innerHTML = 'Nu Open!';
    }
    else {
        view.innerHTML = 'Momenteel gesloten';
    }
    return view;
}
},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvTG9hZGFibGUudHMiLCJzcmMvUmVuLnRzIiwic3JjL1Jlbkdsb2JhbC50cyIsInNyYy9mYWNlYm9va3BsdWdpbnMvRkJPcGVuaW5nSW5mby50cyIsInNyYy9mYWNlYm9va3BsdWdpbnMvRmFjZWJvb2tTREsudHMiLCJzcmMvdmlldy9PcGVuaW5nSW5mb1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUE7SUFPSTtRQUxRLGNBQVMsR0FBYSxLQUFLLENBQUM7UUFDNUIsZ0JBQVcsR0FBYSxLQUFLLENBQUM7UUFDOUIsMkJBQXNCLEdBQW1CLEVBQUUsQ0FBQztRQUM1Qyx3QkFBbUIsR0FBbUIsRUFBRSxDQUFDO1FBRzdDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsc0JBQVcsOEJBQVE7YUFBbkI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFXLG1DQUFhO2FBQXhCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFTSw0QkFBUyxHQUFoQixVQUFrQixtQkFBK0IsRUFBRSxnQkFBNkI7UUFDNUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDaEIsbUJBQW1CLEVBQUUsQ0FBQztRQUMxQixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1lBQzVCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUEsQ0FBQztnQkFDbEIsZ0JBQWdCLEVBQUUsQ0FBQztZQUN2QixDQUFDO1FBQ0wsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxtQkFB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QUMsQ0FBQyxHQUFHLEtBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztBQUNMLENBQUM7QUFFRCxzQkFBdUIsS0FBYztJQUNqQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFDdkIsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtB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SUFBSSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osSUFBSSxDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztJQUMxQyxDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNoQixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMb2FkYWJsZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfaXNMb2FkZWQgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9sb2FkRmFpbGVkIDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfd2FpdGluZ0ZvckxvYWRTdWNjZXNzIDogKCgpID0+IGFueSlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfd2FpdGluZ0ZvckxvYWRGYWlsIDogKCgpID0+IGFueSlbXSA9IFtdO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5kb0xvYWQoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGdldCBpc0xvYWRlZCAoKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0xvYWRlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhhc0xvYWRGYWlsZWQgKCkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZEZhaWxlZFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZnRlckxvYWQgKGxvYWRTdWNjZXNzQ2FsbGJhY2sgOiAoKSA9PiBhbnksIGxvYWRGYWlsQ2FsbGJhY2s/IDogKCkgPT4gYW55KSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIGxvYWRTdWNjZXNzQ2FsbGJhY2soKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzTG9hZEZhaWxlZCkge1xyXG4gICAgICAgICAgICBpZiAobG9hZEZhaWxDYWxsYmFjayl7XHJcbiAgICAgICAgICAgICAgICBsb2FkRmFpbENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nRm9yTG9hZFN1Y2Nlc3MucHVzaChsb2FkU3VjY2Vzc0NhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGxvYWRGYWlsQ2FsbGJhY2spe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0ZvckxvYWRGYWlsLnB1c2gobG9hZEZhaWxDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBsb2FkU3VjY2VzcyAoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2lzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBjYWxsYmFjayBvZiB0aGlzLl93YWl0aW5nRm9yTG9hZFN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRGYWlsZWQgKGVycm9yIDogc3RyaW5nKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2xvYWRGYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGNhbGxiYWNrIG9mIHRoaXMuX3dhaXRpbmdGb3JMb2FkRmFpbCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvYWRpbmcgZmFpbGVkIDogJyArIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZG9Mb2FkICgpIDogdm9pZDtcclxufSIsImltcG9ydCB7RkJPcGVuaW5nSW5mb30gZnJvbSBcIi4vZmFjZWJvb2twbHVnaW5zL0ZCT3BlbmluZ0luZm9cIjtcclxuaW1wb3J0IHtGYWNlYm9va1NES30gZnJvbSBcIi4vZmFjZWJvb2twbHVnaW5zL0ZhY2Vib29rU0RLXCI7XHJcbmltcG9ydCB7b3BlbmluZ0luZm9WaWV3fSBmcm9tIFwiLi92aWV3L09wZW5pbmdJbmZvVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlbiB7XHJcblxyXG4gICAgcHJpdmF0ZSBfZmFjZWJvb2tTREsgOiBGYWNlYm9va1NESztcclxuICAgIHByaXZhdGUgX29wZW5pbmdJbmZvIDogRkJPcGVuaW5nSW5mbztcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5fZmFjZWJvb2tTREsgPSBuZXcgRmFjZWJvb2tTREsoKTtcclxuICAgICAgICB0aGlzLl9mYWNlYm9va1NESy5hZnRlckxvYWQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9vcGVuaW5nSW5mbyA9IG5ldyBGQk9wZW5pbmdJbmZvKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29wZW5pbmdJbmZvLmFmdGVyTG9hZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmlldyA9IG9wZW5pbmdJbmZvVmlldyh0aGlzLl9vcGVuaW5nSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZW4tb3BlbmluZ3N1cmVuJykpLmFwcGVuZENoaWxkKHZpZXcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGZhY2Vib29rRmVlZCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgb3BlbmluZ0luZm8gKCkgOiBGQk9wZW5pbmdJbmZvIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3BlbmluZ0luZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBmYWNlYm9va1NESyAoKSA6IEZhY2Vib29rU0RLIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mYWNlYm9va1NESztcclxuICAgIH07XHJcbn0iLCJpbXBvcnQge1Jlbn0gZnJvbSBcIi4vUmVuXCI7XHJcblxyXG4oPGFueT53aW5kb3cpLlJlblNwb3J0ID0gbmV3IFJlbigpOyIsImltcG9ydCB7RmFjZWJvb2tTREt9IGZyb20gXCIuL0ZhY2Vib29rU0RLXCI7XHJcbmltcG9ydCB7RkJIb3Vyc1Jlc3BvbnNlfSBmcm9tIFwiLi9JRkJSZXNwb25zZVwiO1xyXG5pbXBvcnQge0xvYWRhYmxlfSBmcm9tIFwiLi4vTG9hZGFibGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGQk9wZW5pbmdJbmZvIGV4dGVuZHMgTG9hZGFibGUge1xyXG5cclxuICAgIHB1YmxpYyBtb25kYXkgOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIHR1ZXNkYXkgOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIHdlZG5lc2RheSA6IHN0cmluZ1tdID0gW107XHJcbiAgICBwdWJsaWMgdGh1cnNkYXkgOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIGZyaWRheSA6IHN0cmluZ1tdID0gW107XHJcbiAgICBwdWJsaWMgc2F0dXJkYXkgOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIHN1bmRheSA6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBpc0N1cnJlbnRseU9wZW4gKCkgOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgbm93IDogRGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGRheSA9IGpzVmFsdWVUb0RheShub3cuZ2V0RGF5KCkpLFxyXG4gICAgICAgICAgICBpbmZvRm9yRGF5ID0gKDxhbnk+dGhpcylbZGF5XTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmZvRm9yRGF5Lmxlbmd0aDsgaSs9Mikge1xyXG4gICAgICAgICAgICBpZiAobGllc05vd0luSW50ZXJ2YWwoaW5mb0ZvckRheVtpXSwgaW5mb0ZvckRheVtpKzFdKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsbGVkIGJ5IHN1cGVyKCk7XHJcbiAgICBwcm90ZWN0ZWQgZG9Mb2FkICgpIDogdm9pZCB7XHJcbiAgICAgICAgRmFjZWJvb2tTREsucGFnZTxGQkhvdXJzUmVzcG9uc2U+KFsnaG91cnMnXSwgKHJvdWdoZGF0YSA6IEZCSG91cnNSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXJvdWdoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZURhdGEocm91Z2hkYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEZhaWxlZChyb3VnaGRhdGEuZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZURhdGEgKHJvdWdoZGF0YSA6IEZCSG91cnNSZXNwb25zZSkge1xyXG4gICAgICAgIHRoaXMubW9uZGF5ID0gdG9UaW1pbmdzKE9iamVjdC5rZXlzKHJvdWdoZGF0YS5ob3VycykuZmlsdGVyKChvcGVuaW5nVGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZW5pbmdUaW1lLmluZGV4T2YoJ21vbicpID4gLTE7XHJcbiAgICAgICAgICAgIH0pLnNvcnQoY29tcGFyZU9wZW5pbmdJbmZvKSwgcm91Z2hkYXRhKTtcclxuICAgICAgICB0aGlzLnR1ZXNkYXkgPSB0b1RpbWluZ3MoT2JqZWN0LmtleXMocm91Z2hkYXRhLmhvdXJzKS5maWx0ZXIoKG9wZW5pbmdUaW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3BlbmluZ1RpbWUuaW5kZXhPZigndHVlJykgPiAtMTtcclxuICAgICAgICAgICAgfSkuc29ydChjb21wYXJlT3BlbmluZ0luZm8pLCByb3VnaGRhdGEpO1xyXG4gICAgICAgIHRoaXMud2VkbmVzZGF5ID0gdG9UaW1pbmdzKE9iamVjdC5rZXlzKHJvdWdoZGF0YS5ob3VycykuZmlsdGVyKChvcGVuaW5nVGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZW5pbmdUaW1lLmluZGV4T2YoJ3dlZCcpID4gLTE7XHJcbiAgICAgICAgICAgIH0pLnNvcnQoY29tcGFyZU9wZW5pbmdJbmZvKSwgcm91Z2hkYXRhKTtcclxuICAgICAgICB0aGlzLnRodXJzZGF5ID0gdG9UaW1pbmdzKE9iamVjdC5rZXlzKHJvdWdoZGF0YS5ob3VycykuZmlsdGVyKChvcGVuaW5nVGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZW5pbmdUaW1lLmluZGV4T2YoJ3RodScpID4gLTE7XHJcbiAgICAgICAgICAgIH0pLnNvcnQoY29tcGFyZU9wZW5pbmdJbmZvKSwgcm91Z2hkYXRhKTtcclxuICAgICAgICB0aGlzLmZyaWRheSA9IHRvVGltaW5ncyhPYmplY3Qua2V5cyhyb3VnaGRhdGEuaG91cnMpLmZpbHRlcigob3BlbmluZ1RpbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcGVuaW5nVGltZS5pbmRleE9mKCdmcmknKSA+IC0xO1xyXG4gICAgICAgICAgICB9KS5zb3J0KGNvbXBhcmVPcGVuaW5nSW5mbyksIHJvdWdoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5zYXR1cmRheSA9IHRvVGltaW5ncyhPYmplY3Qua2V5cyhyb3VnaGRhdGEuaG91cnMpLmZpbHRlcigob3BlbmluZ1RpbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcGVuaW5nVGltZS5pbmRleE9mKCdzYXQnKSA+IC0xO1xyXG4gICAgICAgICAgICB9KS5zb3J0KGNvbXBhcmVPcGVuaW5nSW5mbyksIHJvdWdoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5zdW5kYXkgPSB0b1RpbWluZ3MoT2JqZWN0LmtleXMocm91Z2hkYXRhLmhvdXJzKS5maWx0ZXIoKG9wZW5pbmdUaW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3BlbmluZ1RpbWUuaW5kZXhPZignc3VuJykgPiAtMTtcclxuICAgICAgICAgICAgfSkuc29ydChjb21wYXJlT3BlbmluZ0luZm8pLCByb3VnaGRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkYXlUb1ZhbHVlIChkYXkgOiBzdHJpbmcpIDogbnVtYmVye1xyXG4gICAgaWYgKGRheSA9PT0nbW9uJykge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfSBlbHNlIGlmIChkYXkgPT09J3R1ZScpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH0gZWxzZSBpZiAoZGF5ID09PSd3ZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDI7XHJcbiAgICB9IGVsc2UgaWYgKGRheSA9PT0ndGh1Jykge1xyXG4gICAgICAgIHJldHVybiAzO1xyXG4gICAgfSBlbHNlIGlmIChkYXkgPT09J2ZyaScpIHtcclxuICAgICAgICByZXR1cm4gNDtcclxuICAgIH0gZWxzZSBpZiAoZGF5ID09PSdzYXQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDU7XHJcbiAgICB9IGVsc2UgaWYgKGRheSA9PT0nc3VuJykge1xyXG4gICAgICAgIHJldHVybiA2O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqc1ZhbHVlVG9EYXkgKHZhbHVlIDogbnVtYmVyKSA6IHN0cmluZ3tcclxuICAgIGlmICh2YWx1ZSA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiAnc3VuZGF5JztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gJ21vbmRheSc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuICd0dWVzZGF5JztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IDMpIHtcclxuICAgICAgICByZXR1cm4gJ3dlZG5lc2RheSc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSA0KSB7XHJcbiAgICAgICAgcmV0dXJuICd0aHVyc2RheSc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSA1KSB7XHJcbiAgICAgICAgcmV0dXJuICdmcmlkYXknO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gNikge1xyXG4gICAgICAgIHJldHVybiAnc2F0dXJkYXknO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqc0RheVZhbHVlIChkYXkgOiBzdHJpbmcpIDogbnVtYmVyIHtcclxuICAgIHJldHVybiAoKGRheVRvVmFsdWUoZGF5KSArIDEpICUgNyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVPcGVuaW5nSW5mbyAoYSA6IHN0cmluZywgYiA6IHN0cmluZykge1xyXG4gICAgbGV0IGluZm9BID0gYS5zcGxpdCgnXycpLFxyXG4gICAgICAgIGluZm9CID0gYi5zcGxpdCgnXycpO1xyXG5cclxuICAgIGlmIChwYXJzZUludChpbmZvQVsxXSkgPCBwYXJzZUludChpbmZvQlsxXSkpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9IGVsc2UgaWYgKHBhcnNlSW50KGluZm9BWzFdKSA+IHBhcnNlSW50KGluZm9CWzFdKSl7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZvQVsyXSA9PT0gJ29wZW4nKXtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH0gZWxzZSByZXR1cm4gMTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9UaW1pbmdzIChvcGVuaW5nVGltZSA6IHN0cmluZ1tdLCByb3VnaERhdGEgOiBGQkhvdXJzUmVzcG9uc2UpIDogc3RyaW5nW10ge1xyXG4gICAgbGV0IHRpbWluZ3MgOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IG9wZW5pbmcgb2Ygb3BlbmluZ1RpbWUpIHtcclxuICAgICAgICB0aW1pbmdzLnB1c2gocm91Z2hEYXRhLmhvdXJzW29wZW5pbmddKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aW1pbmdzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsaWVzTm93SW5JbnRlcnZhbCAoc3RhcnQgOiBzdHJpbmcsIGVuZCA6IHN0cmluZykgOiBib29sZWFuIHtcclxuXHJcbiAgICBsZXQgbm93IDogRGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgc3RhcnRIb3Vyc01pbnV0ZXMgID0gc3RhcnQuc3BsaXQoJzonKSxcclxuICAgICAgICBzdGFydERhdGUgOiBEYXRlID0gbmV3IERhdGUoKSxcclxuICAgICAgICBzdGFydEhvdXIgOiBudW1iZXIgPSBwYXJzZUludChzdGFydEhvdXJzTWludXRlc1swXSksXHJcbiAgICAgICAgc3RhcnRNaW51dGVzIDogbnVtYmVyID0gcGFyc2VJbnQoc3RhcnRIb3Vyc01pbnV0ZXNbMV0pLFxyXG4gICAgICAgIGVuZEhvdXJzTWludXRlcyAgPSBlbmQuc3BsaXQoJzonKSxcclxuICAgICAgICBlbmREYXRlID0gbmV3IERhdGUoKSxcclxuICAgICAgICBlbmRIb3VyIDogbnVtYmVyID0gcGFyc2VJbnQoZW5kSG91cnNNaW51dGVzWzBdKSxcclxuICAgICAgICBlbmRNaW51dGVzIDogbnVtYmVyID0gcGFyc2VJbnQoZW5kSG91cnNNaW51dGVzWzFdKTtcclxuXHJcbiAgICBzdGFydERhdGUuc2V0SG91cnMoc3RhcnRIb3VyKTtcclxuICAgIHN0YXJ0RGF0ZS5zZXRNaW51dGVzKHN0YXJ0TWludXRlcyk7XHJcbiAgICBlbmREYXRlLnNldEhvdXJzKGVuZEhvdXIpO1xyXG4gICAgZW5kRGF0ZS5zZXRNaW51dGVzKGVuZE1pbnV0ZXMpO1xyXG5cclxuICAgIHJldHVybiBub3cgPj0gc3RhcnREYXRlICYmIG5vdyA8IGVuZERhdGU7XHJcbn0iLCJpbXBvcnQge0V2ZW50RGlzcGF0Y2hlcn0gZnJvbSBcIi4uL2V2ZW50L0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQge0ZCUmVzcG9uc2V9IGZyb20gXCIuL0lGQlJlc3BvbnNlXCI7XHJcbmltcG9ydCB7TG9hZGFibGV9IGZyb20gXCIuLi9Mb2FkYWJsZVwiO1xyXG5cclxuY29uc3QgRkJfR1JBUEhfVVJJID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyc7XHJcbmNvbnN0IFBBR0VfSUQgPSAnMjE1NDcwMzQxOTA5OTM3JztcclxuY29uc3QgSV9MSUtFX0dJTl9UT05JQyA9IFsnWkdKak56RXlaVGt3WlRFNE1EZzFZamcyWVdWaFlqWmpZbUV5TURZNVpqWT0nLCAnZkE9PScsICdOVGs0TnpBMU1qY3pOak0zTVRJeicsICdKbUZqWTJWemMxOTBiMnRsYmowPSddO1xyXG5cclxuaW50ZXJmYWNlIElGYWNlYm9va1NESyB7XHJcbiAgICBpbml0IDogYW55O1xyXG4gICAgYXBpIChncmFwaHBhdGggOiBzdHJpbmcsIGNhbGxiYWNrIDogKHJlc3BvbnNlIDogRkJSZXNwb25zZSkgPT4gYW55KSA6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGYWNlYm9va1NESyBleHRlbmRzIExvYWRhYmxlIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENhbGxlZCBieSBzdXBlcigpO1xyXG4gICAgcHJvdGVjdGVkIGRvTG9hZCAoKSA6IHZvaWQge1xyXG4gICAgICAgICg8YW55PndpbmRvdykuZmJBc3luY0luaXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PndpbmRvdykuRkIuaW5pdCh7XHJcbiAgICAgICAgICAgICAgICBhcHBJZCAgICAgIDogJzU5ODcwNTI3MzYzNzEyMycsXHJcbiAgICAgICAgICAgICAgICB4ZmJtbCAgICAgIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZlcnNpb24gICAgOiAndjIuNidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFN1Y2Nlc3MoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgc3RhdGljIGdldCBzZGsgKCkgOiBJRmFjZWJvb2tTREsge1xyXG4gICAgICAgIHJldHVybiAoPGFueT53aW5kb3cpLkZCO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFnZTxUIGV4dGVuZHMgRkJSZXNwb25zZT4gKGZpZWxkcyA6IHN0cmluZ1tdLCBjYWxsYmFjayA6IChyZXNwb25zZSA6IFQpID0+IGFueSkge1xyXG4gICAgICAgIGxldCB1cmkgOiBzdHJpbmcgPSBGQl9HUkFQSF9VUkkgKyBQQUdFX0lEICsgJz9maWVsZHM9JyArIGZpZWxkcy5qb2luKCcsJykgKyBjYW5keSgpO1xyXG4gICAgICAgIEZhY2Vib29rU0RLLnNkay5hcGkodXJpLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljICBzdGF0aWMgYXBpIChncmFwaGlkIDogc3RyaW5nLCBmaWVsZHMgOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIGxldCB1cmkgOiBzdHJpbmcgPSBGQl9HUkFQSF9VUkkgKyBncmFwaGlkICsgJz9maWVsZHM9JyArIGZpZWxkcy5qb2luKCcsJykgKyBjYW5keSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5keSAoKSA6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gSV9MSUtFX0dJTl9UT05JQy5yZXZlcnNlKCkubWFwKChlKSA9PiB7cmV0dXJuIGF0b2IoZSl9KS5qb2luKCcnKTtcclxufSIsImltcG9ydCB7RkJPcGVuaW5nSW5mb30gZnJvbSBcIi4uL2ZhY2Vib29rcGx1Z2lucy9GQk9wZW5pbmdJbmZvXCI7XHJcblxyXG5jb25zdCBkYXlzIDogc3RyaW5nW10gPSBbXHJcbiAgICAnbW9uZGF5JywgJ3R1ZXNkYXknLCAnd2VkbmVzZGF5JywgJ3RodXJzZGF5JywgJ2ZyaWRheScsICdzYXR1cmRheScsICdzdW5kYXknXHJcbl07XHJcblxyXG5jb25zdCBkYXlzVHJhbnNsYXRpb24gOiB7W2RheSA6IHN0cmluZ10gOiBzdHJpbmd9ID0ge1xyXG4gICAgJ21vbmRheScgOiAnTWFhbmRhZycsXHJcbiAgICAndHVlc2RheScgOiAnRGluc2RhZycsXHJcbiAgICAnd2VkbmVzZGF5JyA6ICdXb2Vuc2RhZycsXHJcbiAgICAndGh1cnNkYXknIDogJ0RvbmRlcmRhZycsXHJcbiAgICAnZnJpZGF5JyA6ICdWcmlqZGFnJyxcclxuICAgICdzYXR1cmRheScgOiAnWmF0ZXJkYWcnLFxyXG4gICAgJ3N1bmRheScgOiAnWm9uZGFnJ1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5pbmdJbmZvVmlldyAob3BlbmluZ0luZm8gOiBGQk9wZW5pbmdJbmZvKSA6IEhUTUxFbGVtZW50IHtcclxuICAgIGxldCByb290IDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGZvciAobGV0IGRheSBvZiBkYXlzKSB7XHJcbiAgICAgICAgbGV0IGRheXZpZXcgPSBkYXlWaWV3KGRheSwgKDxhbnk+b3BlbmluZ0luZm8pW2RheV0pO1xyXG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoZGF5dmlldyk7XHJcbiAgICB9XHJcbiAgICByb290LmFwcGVuZENoaWxkKGN1cnJlbnRseU9wZW5WaWV3KG9wZW5pbmdJbmZvLmlzQ3VycmVudGx5T3BlbikpO1xyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRheVZpZXcgKGRheSA6IHN0cmluZywgaG91cnMgOiBzdHJpbmdbXSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICBsZXQgZGF5dmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgIGhvdXJ2aWV3IDogc3RyaW5nID0gaG91clZpZXcoaG91cnMpO1xyXG4gICAgZGF5dmlldy5pbm5lckhUTUwgPSBkYXlzVHJhbnNsYXRpb25bZGF5XSArICcgOiAnICsgaG91cnZpZXc7XHJcbiAgICByZXR1cm4gZGF5dmlldztcclxufVxyXG5cclxuZnVuY3Rpb24gaG91clZpZXcgKGhvdXJzIDogc3RyaW5nW10pIDogc3RyaW5nIHtcclxuICAgIGxldCBob3VydmlldyA9ICcnO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob3Vycy5sZW5ndGg7IGkrPTIpIHtcclxuICAgICAgICBob3VydmlldyArPSBob3Vyc1tpXSArICcgLSAnICsgaG91cnNbaSsxXTtcclxuICAgICAgICBpZiAoaSsxICE9IGhvdXJzLmxlbmd0aC0xKSB7XHJcbiAgICAgICAgICAgIGhvdXJ2aWV3ICs9ICcsICc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGhvdXJ2aWV3IHx8ICdHZXNsb3Rlbic7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGN1cnJlbnRseU9wZW5WaWV3IChjdXJyZW50bHlPcGVuIDogYm9vbGVhbikgOiBIVE1MRWxlbWVudCB7XHJcbiAgICBsZXQgdmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIGlmIChjdXJyZW50bHlPcGVuKSB7XHJcbiAgICAgICAgdmlldy5pbm5lckhUTUwgPSAnTnUgT3BlbiEnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2aWV3LmlubmVySFRNTCA9ICdNb21lbnRlZWwgZ2VzbG90ZW4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZpZXc7XHJcbn0iXX0=
